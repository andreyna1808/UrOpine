{"ast":null,"code":"import _slicedToArray from\"/home/andreyna/moreira-Andreyna-Carvalho/modulo3/lab-eddit/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import axios from\"axios\";import useForm from\"../../../hooks/useForm\";import{Auth,Post_url}from\"../../../constants/urls\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CreateComments(){var _this=this;var _useForm=useForm({body:''}),_useForm2=_slicedToArray(_useForm,3),form=_useForm2[0],onChange=_useForm2[1],clear=_useForm2[2];var idComments=localStorage.getItem('idComments');var commentsCreate=function commentsCreate(){axios.post(\"\".concat(Post_url,\"/\").concat(idComments,\"/comments\"),form,Auth).then(function(res){alert('Comentário enviado com sucesso!');_this.getCommentsId();clear();}).catch(function(err){alert('Sentimos muito, mas não foi possível enviar esse comentário!');});};var keyPressEnter=function keyPressEnter(e){if(e.key==='Enter'&&form.body!==''){commentsCreate();}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{onKeyPress:keyPressEnter,required:true,name:\"body\",type:'text',value:form.body,onChange:onChange,placeholder:\"Envie seu coment\\xE1rio\"}),/*#__PURE__*/_jsx(\"button\",{onKeyPress:keyPressEnter,onClick:commentsCreate,children:\"Enviar coment\\xE1rio\"})]})});}","map":{"version":3,"sources":["/home/andreyna/moreira-Andreyna-Carvalho/modulo3/lab-eddit/src/pages/comments/createComments/createComments.js"],"names":["React","axios","useForm","Auth","Post_url","CreateComments","body","form","onChange","clear","idComments","localStorage","getItem","commentsCreate","post","then","res","alert","getCommentsId","catch","err","keyPressEnter","e","key"],"mappings":"gJAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,wBAApB,CACA,OAASC,IAAT,CAAeC,QAAf,KAA+B,yBAA/B,C,wFAEA,cAAe,SAASC,CAAAA,cAAT,EAA0B,gBACvC,aAAiCH,OAAO,CAAC,CAACI,IAAI,CAAC,EAAN,CAAD,CAAxC,sCAAOC,IAAP,cAAaC,QAAb,cAAuBC,KAAvB,cAEA,GAAIC,CAAAA,UAAU,CAAGC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAjB,CAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3BZ,KAAK,CAACa,IAAN,WAAcV,QAAd,aAA0BM,UAA1B,cAAiDH,IAAjD,CAAuDJ,IAAvD,EACCY,IADD,CACM,SAACC,GAAD,CAAS,CACbC,KAAK,CAAC,iCAAD,CAAL,CACA,KAAI,CAACC,aAAL,GACAT,KAAK,GACN,CALD,EAMCU,KAND,CAMO,SAACC,GAAD,CAAS,CACdH,KAAK,CAAC,8DAAD,CAAL,CACD,CARD,EASD,CAVD,CAYA,GAAMI,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,CAAD,CAAO,CAC3B,GAAGA,CAAC,CAACC,GAAF,GAAU,OAAV,EAAqBhB,IAAI,CAACD,IAAL,GAAc,EAAtC,CAAyC,CACvCO,cAAc,GACf,CACF,CAJD,CAMA,mBACE,kCACE,qCACE,cAAO,UAAU,CAAEQ,aAAnB,CAAkC,QAAQ,KAA1C,CAA2C,IAAI,CAAC,MAAhD,CAAuD,IAAI,CAAE,MAA7D,CAAqE,KAAK,CAAEd,IAAI,CAACD,IAAjF,CAAuF,QAAQ,CAAEE,QAAjG,CAA2G,WAAW,CAAC,yBAAvH,EADF,cAEE,eAAQ,UAAU,CAAEa,aAApB,CAAmC,OAAO,CAAER,cAA5C,kCAFF,GADF,EADF,CAQD","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport useForm from \"../../../hooks/useForm\";\nimport { Auth, Post_url } from \"../../../constants/urls\";\n\nexport default function CreateComments() {\n  const [form, onChange, clear ] = useForm({body:''})\n\n  let idComments = localStorage.getItem('idComments')\n\n  const commentsCreate = () => {    \n    axios.post(`${Post_url}/${idComments}/comments`, form, Auth)\n    .then((res) => {\n      alert('Comentário enviado com sucesso!');\n      this.getCommentsId()\n      clear();\n    })\n    .catch((err) => {\n      alert('Sentimos muito, mas não foi possível enviar esse comentário!')\n    })\n  }\n  \n  const keyPressEnter = (e) => {\n    if(e.key === 'Enter' && form.body !== ''){\n      commentsCreate();\n    }\n  }\n\n  return (\n    <div>\n      <form>\n        <input onKeyPress={keyPressEnter} required name=\"body\" type={'text'} value={form.body} onChange={onChange} placeholder=\"Envie seu comentário\"></input>\n        <button onKeyPress={keyPressEnter} onClick={commentsCreate}>Enviar comentário</button>\n      </form>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}