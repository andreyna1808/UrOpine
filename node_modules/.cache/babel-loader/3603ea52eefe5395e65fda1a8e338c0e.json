{"ast":null,"code":"import _slicedToArray from\"/home/andreyna/moreira-Andreyna-Carvalho/modulo3/lab-eddit/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import axios from'axios';import{Auth,BASE_URL,Post_url}from'../../../constants/urls';import{ContainerProfile,DivCreateComments,H1,ButtonRemove,ContainerProfileName,DivInfo,Paragrafo,ParagrafoOne,ParagrafoTwo}from'../styledComments';import{ContainerCard,ImgCards,Loading}from'../../post/styledPost';import Gif from'../../../constants/imgs/loading.gif';import ToastAnimated,{showToast}from'../../ui-lib';import darLike from'../../../constants/imgs/darLike.png';import Like from'../../../constants/imgs/like.png';import desLike from'../../../constants/imgs/deslike.png';import darDesLike from'../../../constants/imgs/darDeslike.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ViewsComments(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),infoDetailPost=_useState2[0],setInfoDetailPost=_useState2[1];var idComments=localStorage.getItem('idComments');var getCommentsId=function getCommentsId(){axios.get(\"\".concat(Post_url,\"/\").concat(idComments,\"/comments\"),{headers:{Authorization:localStorage.getItem('tokenEddit')}}).then(function(res){setInfoDetailPost(res.data);postVoteLike();postVoteDeslike();deletVote();});};var postVoteLike=function postVoteLike(idVote){var body={direction:1};axios.post(\"\".concat(BASE_URL,\"/comments/\").concat(idVote,\"/votes\"),body,{headers:{Authorization:localStorage.getItem('tokenEddit')}}).then(function(res){showToast({type:'success',message:'Você adicionou + 1 like ao post'});});};var postVoteDeslike=function postVoteDeslike(idVote){var body={direction:-1};axios.post(\"\".concat(BASE_URL,\"/comments/\").concat(idVote,\"/votes\"),body,{headers:{Authorization:localStorage.getItem('tokenEddit')}}).then(function(res){showToast({type:'success',message:'Você deu -1 like ao post'});});};var deletVote=function deletVote(idVote){axios.delete(\"\".concat(BASE_URL,\"/comments/\").concat(idVote,\"/\"),{headers:{Authorization:localStorage.getItem('tokenEddit')}}).then(function(res){showToast({type:'success',message:'Você deletou sua interação para adicionar novamente clique duas vezes no like ou deslike'});});};useEffect(function(){getCommentsId();},[getCommentsId()]);return/*#__PURE__*/_jsxs(DivCreateComments,{children:[/*#__PURE__*/_jsx(H1,{children:\"Todos os coment\\xE1rios\"}),/*#__PURE__*/_jsx(ToastAnimated,{}),infoDetailPost&&infoDetailPost.length>0?infoDetailPost.map(function(posts){return/*#__PURE__*/_jsxs(ContainerCard,{children:[/*#__PURE__*/_jsxs(DivInfo,{children:[/*#__PURE__*/_jsxs(ParagrafoOne,{children:[\"por: \",posts.username]}),/*#__PURE__*/_jsx(ParagrafoTwo,{children:posts.body})]}),/*#__PURE__*/_jsxs(DivInfo,{children:[/*#__PURE__*/_jsx(\"p\",{children:posts.voteSum&&posts.voteSum.length>=1?/*#__PURE__*/_jsxs(\"p\",{children:[\"curtidas: \",posts.voteSum]}):/*#__PURE__*/_jsx(\"p\",{children:\"curtidas: 0\"})}),/*#__PURE__*/_jsx(ImgCards,{onClick:function onClick(){return postVoteLike(posts.id);},src:posts.userVote===1?Like:darLike,alt:\"dar like\"}),/*#__PURE__*/_jsx(ImgCards,{onClick:function onClick(){return postVoteDeslike(posts.id);},src:posts.userVote===-1?desLike:darDesLike,alt:\"dar like\"}),/*#__PURE__*/_jsx(ButtonRemove,{onClick:function onClick(){return deletVote(posts.id);},children:\"Zerar meu votos\"})]})]},posts.id);}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Aguarde, pois estamos Carregando os coment\\xE1rios...\"}),/*#__PURE__*/_jsx(Loading,{src:Gif}),/*#__PURE__*/_jsx(\"h1\",{children:\"Se tiver 0 aprecie esse gif ou comente algo\"})]})]});}","map":{"version":3,"sources":["/home/andreyna/moreira-Andreyna-Carvalho/modulo3/lab-eddit/src/pages/comments/viewComments/viewComments.js"],"names":["React","useEffect","useState","axios","Auth","BASE_URL","Post_url","ContainerProfile","DivCreateComments","H1","ButtonRemove","ContainerProfileName","DivInfo","Paragrafo","ParagrafoOne","ParagrafoTwo","ContainerCard","ImgCards","Loading","Gif","ToastAnimated","showToast","darLike","Like","desLike","darDesLike","ViewsComments","infoDetailPost","setInfoDetailPost","idComments","localStorage","getItem","getCommentsId","get","headers","Authorization","then","res","data","postVoteLike","postVoteDeslike","deletVote","idVote","body","direction","post","type","message","delete","length","map","posts","username","voteSum","id","userVote"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Auth, BASE_URL, Post_url } from '../../../constants/urls';\nimport { ContainerProfile, DivCreateComments, H1, ButtonRemove, ContainerProfileName, DivInfo, Paragrafo, ParagrafoOne, ParagrafoTwo } from '../styledComments';\nimport { ContainerCard, ImgCards, Loading } from '../../post/styledPost';\nimport Gif from '../../../constants/imgs/loading.gif';\nimport ToastAnimated, { showToast } from '../../ui-lib';\n\nimport darLike from '../../../constants/imgs/darLike.png';\nimport Like from '../../../constants/imgs/like.png';\n\nimport desLike from '../../../constants/imgs/deslike.png';\nimport darDesLike from '../../../constants/imgs/darDeslike.png';\n\nexport default function ViewsComments() {\n\tconst [ infoDetailPost, setInfoDetailPost ] = useState([]);\n\n\tlet idComments = localStorage.getItem('idComments');\n\n\tconst getCommentsId = () => {\n\t\taxios\n\t\t\t.get(`${Post_url}/${idComments}/comments`, {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: localStorage.getItem('tokenEddit')\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tsetInfoDetailPost(res.data);\n\t\t\t\tpostVoteLike();\n\t\t\t\tpostVoteDeslike();\n\t\t\t\tdeletVote();\n\t\t\t});\n\t};\n\n\tconst postVoteLike = (idVote) => {\n\t\tconst body = {\n\t\t\tdirection: 1\n\t\t};\n\t\taxios\n\t\t\t.post(`${BASE_URL}/comments/${idVote}/votes`, body, {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: localStorage.getItem('tokenEddit')\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tshowToast({ type: 'success', message: 'Você adicionou + 1 like ao post' });\n\t\t\t});\n\t};\n\tconst postVoteDeslike = (idVote) => {\n\t\tconst body = {\n\t\t\tdirection: -1\n\t\t};\n\t\taxios\n\t\t\t.post(`${BASE_URL}/comments/${idVote}/votes`, body, {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: localStorage.getItem('tokenEddit')\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tshowToast({ type: 'success', message: 'Você deu -1 like ao post' });\n\t\t\t});\n\t};\n\n\tconst deletVote = (idVote) => {\n\t\taxios\n\t\t\t.delete(`${BASE_URL}/comments/${idVote}/`, {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: localStorage.getItem('tokenEddit')\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tshowToast({\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tmessage: 'Você deletou sua interação para adicionar novamente clique duas vezes no like ou deslike'\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\tuseEffect(\n\t\t() => {\n\t\t\tgetCommentsId();\n\t\t},\n\t\t[ getCommentsId() ]\n\t);\n\n\treturn (\n\t\t<DivCreateComments>\n\t\t\t<H1>Todos os comentários</H1>\n\t\t\t<ToastAnimated />\n\t\t\t{infoDetailPost && infoDetailPost.length > 0 ? (\n\t\t\t\tinfoDetailPost.map((posts) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ContainerCard key={posts.id}>\n              <DivInfo>\n\t\t\t\t\t\t\t\t<ParagrafoOne>por: {posts.username}</ParagrafoOne>\n\t\t\t\t\t\t\t\t<ParagrafoTwo>{posts.body}</ParagrafoTwo>\n              </DivInfo>\n              <DivInfo>\n\t\t\t\t\t\t\t\t<p>{posts.voteSum && posts.voteSum.length >= 1 ? (<p>curtidas: {posts.voteSum}</p>) : (<p>curtidas: 0</p>)}</p>\n\t\t\t\t\t\t\t\t\t<ImgCards\n\t\t\t\t\t\t\t\t\t\tonClick={() => postVoteLike(posts.id)}\n\t\t\t\t\t\t\t\t\t\tsrc={posts.userVote === 1 ? Like : darLike}\n\t\t\t\t\t\t\t\t\t\talt=\"dar like\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<ImgCards\n\t\t\t\t\t\t\t\t\t\tonClick={() => postVoteDeslike(posts.id)}\n\t\t\t\t\t\t\t\t\t\tsrc={posts.userVote === -1 ? desLike : darDesLike}\n\t\t\t\t\t\t\t\t\t\talt=\"dar like\"\n\t\t\t\t\t\t\t\t\t/>\n              <ButtonRemove onClick={() => deletVote(posts.id)}>Zerar meu votos</ButtonRemove>\n              </DivInfo>\n\t\t\t\t\t\t</ContainerCard>\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t) : (\n\t\t\t\t<div>\n\t\t\t\t\t<h1>Aguarde, pois estamos Carregando os comentários...</h1>\n\t\t\t\t\t<Loading src={Gif} />\n\t\t\t\t\t<h1>Se tiver 0 aprecie esse gif ou comente algo</h1>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</DivCreateComments>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}