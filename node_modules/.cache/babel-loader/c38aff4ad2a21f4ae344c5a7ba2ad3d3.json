{"ast":null,"code":"import _slicedToArray from\"/home/andreyna/moreira-Andreyna-Carvalho/modulo3/lab-eddit/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{Auth,BASE_URL,Post_url}from\"../../../constants/urls\";import{ContainerProfile,DivCreateComments,H1,ButtonRemove}from\"../styledComments\";import{ContainerCard,ImgCards,Loading}from\"../../post/styledPost\";import Gif from'../../../constants/imgs/loading.gif';import ToastAnimated,{showToast}from'../../ui-lib';import darLike from'../../../constants/imgs/darLike.png';import Like from'../../../constants/imgs/like.png';import desLike from'../../../constants/imgs/deslike.png';import darDesLike from'../../../constants/imgs/darDeslike.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ViewsComments(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),infoDetailPost=_useState2[0],setInfoDetailPost=_useState2[1];var idComments=localStorage.getItem('idComments');console.log(infoDetailPost);var getCommentsId=function getCommentsId(){axios.get(\"\".concat(Post_url,\"/\").concat(idComments,\"/comments\"),{headers:{Authorization:localStorage.getItem('tokenEddit')}}).then(function(res){setInfoDetailPost(res.data);postVoteLike();postVoteDeslike();deletVote();}).catch(function(err){});};var postVoteLike=function postVoteLike(idVote){var body={direction:1};axios.post(\"\".concat(BASE_URL,\"/comments/\").concat(idVote,\"/votes\"),body,{headers:{Authorization:localStorage.getItem('tokenEddit')}}).then(function(res){showToast({type:\"success\",message:\"Você adicionou + 1 like ao post\"});}).catch(function(err){console.log(err.response);});};var postVoteDeslike=function postVoteDeslike(idVote){var body={direction:-1};axios.post(\"\".concat(BASE_URL,\"/comments/\").concat(idVote,\"/votes\"),body,{headers:{Authorization:localStorage.getItem('tokenEddit')}}).then(function(res){showToast({type:\"success\",message:\"Você deu -1 like ao post\"});}).catch(function(err){});};var deletVote=function deletVote(idVote){axios.delete(\"\".concat(BASE_URL,\"/comments/\").concat(idVote,\"/\"),{headers:{Authorization:localStorage.getItem('tokenEddit')}}).then(function(res){showToast({type:\"success\",message:\"Você deletou sua interação para adicionar novamente clique duas vezes no like ou deslike\"});}).catch(function(err){});};useEffect(function(){getCommentsId();},[getCommentsId()]);return/*#__PURE__*/_jsxs(DivCreateComments,{children:[/*#__PURE__*/_jsx(H1,{children:\"Todos os coment\\xE1rios\"}),/*#__PURE__*/_jsx(ToastAnimated,{}),infoDetailPost&&infoDetailPost.length>0?infoDetailPost.map(function(posts){return/*#__PURE__*/_jsx(ContainerCard,{children:/*#__PURE__*/_jsxs(ContainerProfile,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"por: \",posts.username]}),/*#__PURE__*/_jsx(\"p\",{children:posts.body}),/*#__PURE__*/_jsx(\"p\",{children:posts.voteSum}),/*#__PURE__*/_jsxs(ContainerProfile,{children:[/*#__PURE__*/_jsx(\"p\",{children:posts.voteSum&&posts.voteSum.length>=1?/*#__PURE__*/_jsxs(\"p\",{children:[\"curtidas: \",posts.voteSum]}):/*#__PURE__*/_jsx(\"p\",{children:\"curtidas: 0\"})}),/*#__PURE__*/_jsx(ImgCards,{onClick:function onClick(){return postVoteLike(posts.id);},src:posts.userVote===1?Like:darLike,alt:\"dar like\"}),/*#__PURE__*/_jsx(ImgCards,{onClick:function onClick(){return postVoteDeslike(posts.id);},src:posts.userVote===-1?desLike:darDesLike,alt:\"dar like\"}),/*#__PURE__*/_jsx(ButtonRemove,{onClick:function onClick(){return deletVote(posts.id);},children:\"Zerar meu votos\"})]})]})},posts.id);}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Aguarde, pois estamos Carregando os coment\\xE1rios...\"}),/*#__PURE__*/_jsx(Loading,{src:Gif})]})]});}","map":{"version":3,"sources":["/home/andreyna/moreira-Andreyna-Carvalho/modulo3/lab-eddit/src/pages/comments/viewComments/viewComments.js"],"names":["React","useEffect","useState","axios","Auth","BASE_URL","Post_url","ContainerProfile","DivCreateComments","H1","ButtonRemove","ContainerCard","ImgCards","Loading","Gif","ToastAnimated","showToast","darLike","Like","desLike","darDesLike","ViewsComments","infoDetailPost","setInfoDetailPost","idComments","localStorage","getItem","console","log","getCommentsId","get","headers","Authorization","then","res","data","postVoteLike","postVoteDeslike","deletVote","catch","err","idVote","body","direction","post","type","message","response","delete","length","map","posts","username","voteSum","id","userVote"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Auth, BASE_URL, Post_url } from \"../../../constants/urls\";\nimport { ContainerProfile, DivCreateComments, H1, ButtonRemove } from \"../styledComments\";\nimport { ContainerCard, ImgCards, Loading } from \"../../post/styledPost\";\nimport Gif from '../../../constants/imgs/loading.gif';\nimport ToastAnimated, { showToast } from '../../ui-lib';\n\nimport darLike from '../../../constants/imgs/darLike.png';\nimport Like from '../../../constants/imgs/like.png';\n\nimport desLike from '../../../constants/imgs/deslike.png';\nimport darDesLike from '../../../constants/imgs/darDeslike.png';\n\nexport default function ViewsComments() {\n  const [ infoDetailPost, setInfoDetailPost] = useState([])\n\n  let idComments = localStorage.getItem('idComments')\n  console.log(infoDetailPost);\n\n  const getCommentsId = () => {\n    axios.get(`${Post_url}/${idComments}/comments`, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: localStorage.getItem('tokenEddit')\n\t\t\t}\n\t\t})\n    .then((res) => {\n      setInfoDetailPost(res.data);\n      postVoteLike()\n      postVoteDeslike()\n      deletVote();\n    })\n    .catch((err) => {\n  })\n  }\n\n  const postVoteLike = (idVote) => {\n\t\tconst body = {\n\t\t\tdirection: 1,\n\t\t}\n\t\taxios.post(`${BASE_URL}/comments/${idVote}/votes`, body, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: localStorage.getItem('tokenEddit')\n\t\t\t}\n\t\t})\n\t\t.then((res) => {\n\t\t\tshowToast({ type: \"success\", message: \"Você adicionou + 1 like ao post\" });\n\n\t\t})\n\t\t.catch((err) => {\n\t\t\tconsole.log(err.response)\n\t\t})\n\t};\n\tconst postVoteDeslike = (idVote) => {\n\t\tconst body = {\n\t\t\tdirection: -1,\n\t\t}\n\t\taxios.post(`${BASE_URL}/comments/${idVote}/votes`, body, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: localStorage.getItem('tokenEddit')\n\t\t\t}\n\t\t})\n\t\t.then((res) => {\n\t\t\tshowToast({ type: \"success\", message: \"Você deu -1 like ao post\" });\n\t\t})\n\t\t.catch((err) => {\n\t\t})\n\t};\n\n\tconst deletVote = (idVote) => {\n\t\taxios.delete(`${BASE_URL}/comments/${idVote}/`, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: localStorage.getItem('tokenEddit')\n\t\t\t}\n\t\t})\n    .then((res) => {\n\t\t\tshowToast({ type: \"success\", message: \"Você deletou sua interação para adicionar novamente clique duas vezes no like ou deslike\" });\n    })\n    .catch((err) => {\n    })\n  }\n\n  useEffect(() => {\n    getCommentsId();\n  }, [getCommentsId()])\n\n  return (\n    <DivCreateComments>\n      <H1>Todos os comentários</H1>\n      <ToastAnimated/>\n      {infoDetailPost && infoDetailPost.length > 0 ? infoDetailPost.map((posts) => {\n          return <ContainerCard key={posts.id}>\n            <ContainerProfile>\n                <p>por: {posts.username}</p>\n                <p>{posts.body}</p>\n                <p>{posts.voteSum}</p>\n                <ContainerProfile>\n                <p>{posts.voteSum && posts.voteSum.length >= 1 ? <p>curtidas: {posts.voteSum}</p> : <p>curtidas: 0</p>}</p>\n\t\t\t\t\t\t\t\t<ImgCards onClick={() => postVoteLike(posts.id)} src={posts.userVote === 1 ? Like : darLike} alt=\"dar like\" />\n\t\t\t\t\t\t\t\t<ImgCards onClick={() => postVoteDeslike(posts.id)} src={posts.userVote === -1 ? desLike : darDesLike} alt=\"dar like\" />\n\t\t\t\t\t\t\t\t<ButtonRemove onClick={() => deletVote(posts.id)}>Zerar meu votos</ButtonRemove>\n                </ContainerProfile>\n             </ContainerProfile>\n            </ContainerCard>\n        }) :(\n          <div>\n            <h1>Aguarde, pois estamos Carregando os comentários...</h1>\n            <Loading src={Gif} />\n          </div>\n        )}\n    </DivCreateComments>\n  );\n}"]},"metadata":{},"sourceType":"module"}